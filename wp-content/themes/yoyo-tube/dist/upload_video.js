/*! For license information please see upload_video.js.LICENSE.txt */
(function(){var __webpack_modules__={"./assets/src/js/upload_video.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _videos_video_upload_ajax_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./videos/video_upload_ajax.js */ "./assets/src/js/videos/video_upload_ajax.js");\n/* harmony import */ var _videos_video_upload_ajax_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_videos_video_upload_ajax_js__WEBPACK_IMPORTED_MODULE_0__);\n// Upload Video JS\n\n\n//# sourceURL=webpack://yoyo-tube/./assets/src/js/upload_video.js?')},"./assets/src/js/videos/video_upload_ajax.js":function(){eval('jQuery(document).ready(function ($) {\n  var dragDropArea = $("#drag-drop-area");\n  var fileInput = $("#yoyo-video-file");\n  var form = $("#yoyo-video-upload-form");\n  var progressBar = $("#upload-progress");\n  var progressIndicator = progressBar.find(".progress");\n  var messageDiv = $("#yoyo-video-message");\n  var isPaidCheckbox = $("#yoyo-video-paid");\n  var priceInputGroup = $("#price-input-group");\n\n  // Toggle price input visibility\n  isPaidCheckbox.on("change", function () {\n    priceInputGroup.toggle(this.checked);\n    $("#yoyo-video-price").prop("required", this.checked);\n  });\n\n  // Drag and drop handlers\n  dragDropArea.on("dragover dragenter", function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    $(this).addClass("dragover");\n  });\n  dragDropArea.on("dragleave dragend drop", function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    $(this).removeClass("dragover");\n  });\n  dragDropArea.on("drop", function (e) {\n    e.preventDefault();\n    var files = e.originalEvent.dataTransfer.files;\n    if (files.length) {\n      fileInput.prop("files", files);\n      updateFileName(files[0].name);\n    }\n  });\n  dragDropArea.on("mousedown", function (event) {\n    event.preventDefault();\n    fileInput.trigger("click");\n  });\n  fileInput.on("change", function () {\n    if (this.files.length) {\n      updateFileName(this.files[0].name);\n    }\n  });\n  function updateFileName(name) {\n    dragDropArea.find("p").text("Selected file: ".concat(name));\n  }\n\n  // Form submission\n  form.on("submit", function (e) {\n    e.preventDefault();\n    var formData = new FormData(this);\n    formData.append("action", "yoyo_handle_video_upload");\n\n    // Validate required fields\n    var title = $("#yoyo-video-title").val();\n    var tags = $("#yoyo-video-tags").val();\n    var isPaid = isPaidCheckbox.is(":checked");\n    var price = $("#yoyo-video-price").val();\n    if (!title) {\n      showMessage("Please enter a video title", "error");\n      return;\n    }\n    if (!tags || tags.split(",").length < 3) {\n      showMessage("Please enter at least 3 tags separated by commas", "error");\n      return;\n    }\n    if (isPaid && !price) {\n      showMessage("Please enter a price for the paid content", "error");\n      return;\n    }\n\n    // Show progress bar\n    progressBar.show();\n    $.ajax({\n      url: yoyo_ajax.ajaxurl,\n      type: "POST",\n      data: formData,\n      contentType: false,\n      processData: false,\n      xhr: function xhr() {\n        var xhr = new window.XMLHttpRequest();\n        xhr.upload.addEventListener("progress", function (e) {\n          if (e.lengthComputable) {\n            var percent = e.loaded / e.total * 100;\n            progressIndicator.css("width", percent + "%");\n          }\n        });\n        return xhr;\n      },\n      success: function success(response) {\n        if (response.success) {\n          showMessage("Video uploaded successfully!", "success");\n          form[0].reset();\n          dragDropArea.find("p").html(\'Drag and drop your video file here or <span class="browse-text">Browse</span>\');\n          priceInputGroup.hide();\n        } else {\n          showMessage(response.data.message || "Upload failed", "error");\n        }\n      },\n      error: function error() {\n        showMessage("Upload failed. Please try again.", "error");\n      },\n      complete: function complete() {\n        progressBar.hide();\n        progressIndicator.css("width", "0%");\n      }\n    });\n  });\n  function showMessage(message, type) {\n    messageDiv.removeClass("error success").addClass(type).text(message).show().delay(5000).fadeOut();\n  }\n});\n\n//# sourceURL=webpack://yoyo-tube/./assets/src/js/videos/video_upload_ajax.js?')}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=function(e,r){for(var n in r)__webpack_require__.o(r,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./assets/src/js/upload_video.js")})();